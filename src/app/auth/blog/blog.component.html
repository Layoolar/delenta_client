<app-header></app-header>
<div class="container mt-5">
  <form
    #postData="ngForm"
    (ngSubmit)="onSubmit()"
    [formGroup]="postForm"
  >
    <div class="input-group d-flex justify-content-center mt-5">
      <textarea 
        class="form-control custom-textarea"
        aria-label="With textarea"
        formControlName="post"
        placeholder="What's Trending?"
        required
      ></textarea>
    </div>
    <div class="d-flex justify-content-center mt-3">
      <button 
        type="submit"
        class="btn btn-primary slick-btn">
        Post
      </button>
    </div>
  </form>


  <div class="row mt-4">
    <div *ngFor="let post of posts; let i = index" class="col-md-6 mb-4">
      <div class="card post-item">
        <div class="card-body">
          <div *ngIf="singleUserDetails">
             <p>
              <span style="color: #000;">{{singleUserDetails.userName}}</span>
            </p> 
          </div>
          <p class="card-text mb-1 text-dark">{{ post.post }}</p> <!-- Display the username -->
          <div *ngIf="currentUser.isAdmin" class="d-flex justify-content-end dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
              &#x22EE;
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <li>
                <button type="submit" class="dropdown-item" (click)="deletePost()">Delete</button>
              </li>
              <li>
                <button type="submit" class="dropdown-item" (click)="banPost()">Ban</button>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
